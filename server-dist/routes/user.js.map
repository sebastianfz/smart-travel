{"version":3,"sources":["../../server/routes/user.js"],"names":["jwt","require","api","authCheck","secret","Buffer","auth0","secretKey","audience","clientKey","get","getUsers","getUser","post","addUser","put","updateUser"],"mappings":";;;;;;AACA;;AACA;;;;AAGA;;;;;;AADA,IAAIA,MAAMC,QAAQ,aAAR,CAAV;;kBAGe,YAAM;AACjB,QAAIC,MAAM,sBAAV;;AAEA,QAAIC,YAAYH,IAAI;AAChBI,gBAAQ,IAAIC,MAAJ,CAAW,iBAAOC,KAAP,CAAaC,SAAxB,EAAmC,QAAnC,CADQ;AAEhBC,kBAAU,iBAAOF,KAAP,CAAaG;AAFP,KAAJ,CAAhB;;AAKA;AACAP,QAAIQ,GAAJ,CAAQ,GAAR,EAAa,eAAeC,QAA5B;AACAT,QAAIQ,GAAJ,CAAQ,SAAR,EAAmBP,SAAnB,EAA8B,eAAeS,OAA7C;AACAV,QAAIW,IAAJ,CAAS,GAAT,EAAc,eAAeC,OAA7B;AACAZ,QAAIa,GAAJ,CAAQ,SAAR,EAAmB,eAAeC,UAAlC;;AAEA,WAAOd,GAAP;AACH,C","file":"user.js","sourcesContent":["\r\nimport { Router } from 'express';\r\nimport userController from '../controllers/user.controller';\r\n\r\nvar jwt = require('express-jwt');\r\nimport config from '../config/config';\r\n\r\nexport default () => {\r\n    let api = Router();\r\n\r\n    let authCheck = jwt({\r\n        secret: new Buffer(config.auth0.secretKey, 'base64'),\r\n        audience: config.auth0.clientKey\r\n    });\r\n\r\n    // perhaps expose some API metadata at the root\r\n    api.get('/', userController.getUsers);\r\n    api.get('/:email', authCheck, userController.getUser);\r\n    api.post('/', userController.addUser);\r\n    api.put('/:email', userController.updateUser);\r\n\r\n    return api;\r\n}\r\n"]}